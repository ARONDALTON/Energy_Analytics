

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Energy_Analytics package &mdash; Energy_Analytics 1.0 documentation</title>
  

  
  
  
  

  

  
  
    

  

  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="prev" title="Energy_Analytics" href="index.html" /> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> Energy_Analytics
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Energy_Analytics package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#module-Energy_Analytics.Clean_Data">Energy_Analytics.Clean_Data module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#to-do">To Do</a></li>
<li class="toctree-l3"><a class="reference internal" href="#authors">Authors</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#module-Energy_Analytics.Import_Data">Energy_Analytics.Import_Data module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id1">To Do</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id2">Authors</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#module-Energy_Analytics.Model_Data">Energy_Analytics.Model_Data module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id3">Authors</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#module-Energy_Analytics.Plot_Data">Energy_Analytics.Plot_Data module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-Energy_Analytics.Preprocess_Data">Energy_Analytics.Preprocess_Data module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id4">Authors</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#module-Energy_Analytics.Wrapper">Energy_Analytics.Wrapper module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id5">To Do</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id6">Authors</a></li>
</ul>
</li>
</ul>
</li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Energy_Analytics</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>Energy_Analytics package</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/Energy_Analytics.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="energy-analytics-package">
<h1>Energy_Analytics package<a class="headerlink" href="#energy-analytics-package" title="Permalink to this headline">¶</a></h1>
<div class="section" id="module-Energy_Analytics.Clean_Data">
<span id="energy-analytics-clean-data-module"></span><h2>Energy_Analytics.Clean_Data module<a class="headerlink" href="#module-Energy_Analytics.Clean_Data" title="Permalink to this headline">¶</a></h2>
<p>This script cleans a dataframe according to user specifications.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Last modified: Feb 4 2019</p>
</div>
<div class="section" id="to-do">
<h3>To Do<a class="headerlink" href="#to-do" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><ol class="arabic simple">
<li>For remove_outlier() - may need a different boundary for each column.</li>
<li>remove_start_NaN() - issues with multi-column df.</li>
<li>Figure out parameter/return types of functions (do a search on “???”)</li>
</ol>
</div></blockquote>
</div>
<div class="section" id="authors">
<h3>Authors<a class="headerlink" href="#authors" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Marco Pritoni &lt;<a class="reference external" href="mailto:marco&#46;pritoni&#37;&#52;&#48;gmail&#46;com">marco<span>&#46;</span>pritoni<span>&#64;</span>gmail<span>&#46;</span>com</a>&gt;</li>
<li>Pranav Gupta &lt;<a class="reference external" href="mailto:phgupta&#37;&#52;&#48;ucdavis&#46;edu">phgupta<span>&#64;</span>ucdavis<span>&#46;</span>edu</a>&gt;</li>
</ul>
<dl class="class">
<dt id="Energy_Analytics.Clean_Data.Clean_Data">
<em class="property">class </em><code class="descclassname">Energy_Analytics.Clean_Data.</code><code class="descname">Clean_Data</code><span class="sig-paren">(</span><em>df</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Energy_Analytics/Clean_Data.html#Clean_Data"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Energy_Analytics.Clean_Data.Clean_Data" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>This class cleans a dataframe according to user specification</p>
<dl class="method">
<dt id="Energy_Analytics.Clean_Data.Clean_Data.clean_data">
<code class="descname">clean_data</code><span class="sig-paren">(</span><em>resample=True</em>, <em>freq='h'</em>, <em>resampler='mean'</em>, <em>interpolate=True</em>, <em>limit=1</em>, <em>method='linear'</em>, <em>remove_na=True</em>, <em>remove_na_how='any'</em>, <em>remove_outliers=True</em>, <em>sd_val=3</em>, <em>remove_out_of_bounds=True</em>, <em>low_bound=0</em>, <em>high_bound=9998</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Energy_Analytics/Clean_Data.html#Clean_Data.clean_data"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Energy_Analytics.Clean_Data.Clean_Data.clean_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Clean dataframe.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>resample</strong> (<em>bool</em>) – Indicates whether to resample data or not.</li>
<li><strong>freq</strong> (<em>str</em>) – Resampling frequency i.e. d, h, 15T…</li>
<li><strong>resampler</strong> (<em>str</em>) – Resampling type i.e. mean, max.</li>
<li><strong>interpolate</strong> (<em>bool</em>) – Indicates whether to interpolate data or not.</li>
<li><strong>limit</strong> (<em>int</em>) – Interpolation limit.</li>
<li><strong>method</strong> (<em>str</em>) – Interpolation method.</li>
<li><strong>remove_na</strong> (<em>bool</em>) – Indicates whether to remove NAs or not.</li>
<li><strong>remove_na_how</strong> (<em>str</em>) – Specificies how to remove NA i.e. all, any…</li>
<li><strong>remove_outliers</strong> (<em>bool</em>) – Indicates whether to remove outliers or not.</li>
<li><strong>sd_val</strong> (<em>int</em>) – Standard Deviation Value (specifices how many SDs away is a point considered an outlier)</li>
<li><strong>remove_out_of_bounds</strong> (<em>bool</em>) – Indicates whether to remove out of bounds datapoints or not.</li>
<li><strong>low_bound</strong> (<em>int</em>) – Low bound of the data.</li>
<li><strong>high_bound</strong> (<em>int</em>) – High bound of the data.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="Energy_Analytics.Clean_Data.Clean_Data.count_if">
<code class="descname">count_if</code><span class="sig-paren">(</span><em>data</em>, <em>condition</em>, <em>val</em>, <em>output='number'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Energy_Analytics/Clean_Data.html#Clean_Data.count_if"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Energy_Analytics.Clean_Data.Clean_Data.count_if" title="Permalink to this definition">¶</a></dt>
<dd><p>Count the number of values that match the condition.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>data</strong> (<em>pd.DataFrame</em><em>(</em><em>)</em>) – Input dataframe.</li>
<li><strong>condition</strong> (<em>str</em>) – Condition to match.</li>
<li><strong>val</strong> (<em>float</em>) – Value to compare against.</li>
<li><strong>output</strong> (<em>str</em>) – Sting indicating the output of function (number or percent)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Count of values that match the condition (int or float)</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">int/float</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="Energy_Analytics.Clean_Data.Clean_Data.count_missing">
<code class="descname">count_missing</code><span class="sig-paren">(</span><em>data</em>, <em>output='number'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Energy_Analytics/Clean_Data.html#Clean_Data.count_missing"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Energy_Analytics.Clean_Data.Clean_Data.count_missing" title="Permalink to this definition">¶</a></dt>
<dd><p>???</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>data</strong> (<em>pd.DataFrame</em><em>(</em><em>)</em>) – Input dataframe.</li>
<li><strong>output</strong> (<em>str</em>) – Sting indicating the output of function (number or percent)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Count of missing data (int or float)</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">int/float</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="Energy_Analytics.Clean_Data.Clean_Data.count_outOfBound">
<code class="descname">count_outOfBound</code><span class="sig-paren">(</span><em>data</em>, <em>lowBound</em>, <em>highBound</em>, <em>output</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Energy_Analytics/Clean_Data.html#Clean_Data.count_outOfBound"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Energy_Analytics.Clean_Data.Clean_Data.count_outOfBound" title="Permalink to this definition">¶</a></dt>
<dd><p>Count the number of out of bounds data.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>data</strong> (<em>pd.DataFrame</em><em>(</em><em>)</em>) – Input dataframe.</li>
<li><strong>lowBound</strong> (<em>float</em>) – Lower bound for dataframe.</li>
<li><strong>highBound</strong> (<em>float</em>) – Higher bound for dataframe.</li>
<li><strong>output</strong> (<em>str</em>) – Sting indicating the output of function (number or percent)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Count of out of bounds data (int or float)</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">int/float</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="Energy_Analytics.Clean_Data.Clean_Data.count_outliers">
<code class="descname">count_outliers</code><span class="sig-paren">(</span><em>data</em>, <em>method</em>, <em>coeff</em>, <em>output</em>, <em>window=10</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Energy_Analytics/Clean_Data.html#Clean_Data.count_outliers"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Energy_Analytics.Clean_Data.Clean_Data.count_outliers" title="Permalink to this definition">¶</a></dt>
<dd><p>Count the number of outliers in dataframe.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>data</strong> (<em>pd.DataFrame</em><em>(</em><em>)</em>) – Input dataframe.</li>
<li><strong>method</strong> (<em>str</em>) – Method to use for calculating the lower and higher bounds.</li>
<li><strong>coeff</strong> (<em>int</em>) – Coefficient to use in calculation.</li>
<li><strong>output</strong> (<em>str</em>) – Sting indicating the output of function (number or percent)</li>
<li><strong>window</strong> (<em>int</em>) – Size of the moving window.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Count of out of bounds data (int or float)</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">int/float</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="Energy_Analytics.Clean_Data.Clean_Data.display_missing">
<code class="descname">display_missing</code><span class="sig-paren">(</span><em>data</em>, <em>return_bool='any'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Energy_Analytics/Clean_Data.html#Clean_Data.display_missing"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Energy_Analytics.Clean_Data.Clean_Data.display_missing" title="Permalink to this definition">¶</a></dt>
<dd><p>???</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>data</strong> (<em>pd.DataFrame</em><em>(</em><em>)</em>) – Input dataframe.</li>
<li><strong>return_bool</strong> (<em>bool</em>) – <p>???</p>
</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><p>???</p>
</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">pd.DataFrame()</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="Energy_Analytics.Clean_Data.Clean_Data.display_outOfBound">
<code class="descname">display_outOfBound</code><span class="sig-paren">(</span><em>data</em>, <em>lowBound</em>, <em>highBound</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Energy_Analytics/Clean_Data.html#Clean_Data.display_outOfBound"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Energy_Analytics.Clean_Data.Clean_Data.display_outOfBound" title="Permalink to this definition">¶</a></dt>
<dd><p>Select data that is out of bounds.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>data</strong> (<em>pd.DataFrame</em><em>(</em><em>)</em>) – Input dataframe.</li>
<li><strong>lowBound</strong> (<em>float</em>) – Lower bound for dataframe.</li>
<li><strong>highBound</strong> (<em>float</em>) – Higher bound for dataframe.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Dataframe containing data that is out of bounds.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">pd.DataFrame()</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="Energy_Analytics.Clean_Data.Clean_Data.display_outliers">
<code class="descname">display_outliers</code><span class="sig-paren">(</span><em>data</em>, <em>method</em>, <em>coeff</em>, <em>window=10</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Energy_Analytics/Clean_Data.html#Clean_Data.display_outliers"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Energy_Analytics.Clean_Data.Clean_Data.display_outliers" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns dataframe with outliers.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>data</strong> (<em>pd.DataFrame</em><em>(</em><em>)</em>) – Input dataframe.</li>
<li><strong>method</strong> (<em>str</em>) – Method to use for calculating the lower and higher bounds.</li>
<li><strong>coeff</strong> (<em>int</em>) – Coefficient to use in calculation.</li>
<li><strong>window</strong> (<em>int</em>) – Size of the moving window.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Dataframe containing outliers.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">pd.DataFrame()</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="Energy_Analytics.Clean_Data.Clean_Data.drop_columns">
<code class="descname">drop_columns</code><span class="sig-paren">(</span><em>col</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Energy_Analytics/Clean_Data.html#Clean_Data.drop_columns"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Energy_Analytics.Clean_Data.Clean_Data.drop_columns" title="Permalink to this definition">¶</a></dt>
<dd><p>Drop columns in dataframe.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>col</strong> (<em>str</em>) – Column to drop.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="Energy_Analytics.Clean_Data.Clean_Data.interpolate_data">
<code class="descname">interpolate_data</code><span class="sig-paren">(</span><em>data</em>, <em>limit</em>, <em>method</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Energy_Analytics/Clean_Data.html#Clean_Data.interpolate_data"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Energy_Analytics.Clean_Data.Clean_Data.interpolate_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Interpolate dataframe.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>data</strong> (<em>pd.DataFrame</em><em>(</em><em>)</em>) – Dataframe to interpolate</li>
<li><strong>limit</strong> (<em>int</em>) – Interpolation limit.</li>
<li><strong>method</strong> (<em>str</em>) – Interpolation method.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Dataframe containing interpolated data</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">pd.DataFrame()</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="Energy_Analytics.Clean_Data.Clean_Data.remove_end_NaN">
<code class="descname">remove_end_NaN</code><span class="sig-paren">(</span><em>data</em>, <em>var=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Energy_Analytics/Clean_Data.html#Clean_Data.remove_end_NaN"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Energy_Analytics.Clean_Data.Clean_Data.remove_end_NaN" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove end NaN.</p>
<p>CHECK: Note issue with multi-column df.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>data</strong> (<em>pd.DataFrame</em><em>(</em><em>)</em>) – Input dataframe.</li>
<li><strong>var</strong> (<em>list</em><em>(</em><em>str</em><em>)</em>) – List that specifies specific columns of dataframe.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Dataframe starting from its last valid index.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">pd.DataFrame()</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="Energy_Analytics.Clean_Data.Clean_Data.remove_missing">
<code class="descname">remove_missing</code><span class="sig-paren">(</span><em>data</em>, <em>return_bool='any'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Energy_Analytics/Clean_Data.html#Clean_Data.remove_missing"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Energy_Analytics.Clean_Data.Clean_Data.remove_missing" title="Permalink to this definition">¶</a></dt>
<dd><p>???</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>data</strong> (<em>pd.DataFrame</em><em>(</em><em>)</em>) – Input dataframe.</li>
<li><strong>return_bool</strong> (<em>bool</em>) – <p>???</p>
</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><p>???</p>
</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">pd.DataFrame()</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="Energy_Analytics.Clean_Data.Clean_Data.remove_na">
<code class="descname">remove_na</code><span class="sig-paren">(</span><em>data</em>, <em>remove_na_how</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Energy_Analytics/Clean_Data.html#Clean_Data.remove_na"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Energy_Analytics.Clean_Data.Clean_Data.remove_na" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove NAs from dataframe.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>data</strong> (<em>pd.DataFrame</em><em>(</em><em>)</em>) – Dataframe to remove NAs from.</li>
<li><strong>remove_na_how</strong> (<em>str</em>) – Specificies how to remove NA i.e. all, any…</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Dataframe with NAs removed.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">pd.DataFrame()</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="Energy_Analytics.Clean_Data.Clean_Data.remove_outOfBound">
<code class="descname">remove_outOfBound</code><span class="sig-paren">(</span><em>data</em>, <em>lowBound</em>, <em>highBound</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Energy_Analytics/Clean_Data.html#Clean_Data.remove_outOfBound"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Energy_Analytics.Clean_Data.Clean_Data.remove_outOfBound" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove out of bounds data from input dataframe.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>data</strong> (<em>pd.DataFrame</em><em>(</em><em>)</em>) – Input dataframe.</li>
<li><strong>lowBound</strong> (<em>float</em>) – Lower bound for dataframe.</li>
<li><strong>highBound</strong> (<em>float</em>) – Higher bound for dataframe.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Dataframe with no out of bounds data.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">pd.DataFrame()</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="Energy_Analytics.Clean_Data.Clean_Data.remove_out_of_bounds">
<code class="descname">remove_out_of_bounds</code><span class="sig-paren">(</span><em>data</em>, <em>low_bound</em>, <em>high_bound</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Energy_Analytics/Clean_Data.html#Clean_Data.remove_out_of_bounds"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Energy_Analytics.Clean_Data.Clean_Data.remove_out_of_bounds" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove out of bound datapoints from dataframe.</p>
<p>This function removes all points &lt; low_bound and &gt; high_bound.</p>
<p>To Do,
1. Add a different boundary for each column.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>data</strong> (<em>pd.DataFrame</em><em>(</em><em>)</em>) – Dataframe to remove bounds from.</li>
<li><strong>low_bound</strong> (<em>int</em>) – Low bound of the data.</li>
<li><strong>high_bound</strong> (<em>int</em>) – High bound of the data.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Dataframe with out of bounds removed.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">pd.DataFrame()</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="Energy_Analytics.Clean_Data.Clean_Data.remove_outlier">
<code class="descname">remove_outlier</code><span class="sig-paren">(</span><em>data</em>, <em>sd_val</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Energy_Analytics/Clean_Data.html#Clean_Data.remove_outlier"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Energy_Analytics.Clean_Data.Clean_Data.remove_outlier" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove outliers from dataframe.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<ol class="last arabic simple">
<li>This function excludes all lines with NA in all columns.</li>
</ol>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>data</strong> (<em>pd.DataFrame</em><em>(</em><em>)</em>) – Dataframe to remove outliers from.</li>
<li><strong>sd_val</strong> (<em>int</em>) – Standard Deviation Value (specifices how many SDs away is a point considered an outlier)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Dataframe with outliers removed.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">pd.DataFrame()</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="Energy_Analytics.Clean_Data.Clean_Data.remove_outliers">
<code class="descname">remove_outliers</code><span class="sig-paren">(</span><em>data</em>, <em>method</em>, <em>coeff</em>, <em>window=10</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Energy_Analytics/Clean_Data.html#Clean_Data.remove_outliers"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Energy_Analytics.Clean_Data.Clean_Data.remove_outliers" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove the outliers in dataframe.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>data</strong> (<em>pd.DataFrame</em><em>(</em><em>)</em>) – Input dataframe.</li>
<li><strong>method</strong> (<em>str</em>) – Method to use for calculating the lower and higher bounds.</li>
<li><strong>coeff</strong> (<em>int</em>) – Coefficient to use in calculation.</li>
<li><strong>window</strong> (<em>int</em>) – Size of the moving window.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Dataframe with its outliers removed.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">pd.DataFrame()</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="Energy_Analytics.Clean_Data.Clean_Data.remove_start_NaN">
<code class="descname">remove_start_NaN</code><span class="sig-paren">(</span><em>data</em>, <em>var=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Energy_Analytics/Clean_Data.html#Clean_Data.remove_start_NaN"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Energy_Analytics.Clean_Data.Clean_Data.remove_start_NaN" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove start NaN.</p>
<p>CHECK: Note issue with multi-column df.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>data</strong> (<em>pd.DataFrame</em><em>(</em><em>)</em>) – Input dataframe.</li>
<li><strong>var</strong> (<em>list</em><em>(</em><em>str</em><em>)</em>) – List that specifies specific columns of dataframe.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Dataframe starting from its first valid index.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">pd.DataFrame()</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="Energy_Analytics.Clean_Data.Clean_Data.rename_columns">
<code class="descname">rename_columns</code><span class="sig-paren">(</span><em>col</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Energy_Analytics/Clean_Data.html#Clean_Data.rename_columns"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Energy_Analytics.Clean_Data.Clean_Data.rename_columns" title="Permalink to this definition">¶</a></dt>
<dd><p>Rename columns of dataframe.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>col</strong> (<em>list</em><em>(</em><em>str</em><em>)</em>) – List of columns to rename.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="Energy_Analytics.Clean_Data.Clean_Data.resample_data">
<code class="descname">resample_data</code><span class="sig-paren">(</span><em>data</em>, <em>freq</em>, <em>resampler='mean'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Energy_Analytics/Clean_Data.html#Clean_Data.resample_data"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Energy_Analytics.Clean_Data.Clean_Data.resample_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Resample dataframe.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<ol class="last arabic simple">
<li>Figure out how to apply different functions to different columns .apply()</li>
<li><dl class="first docutils">
<dt>This theoretically work in upsampling too, check docs</dt>
<dd><a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/generated/pandas.DataFrame.resample.html">http://pandas.pydata.org/pandas-docs/stable/generated/pandas.DataFrame.resample.html</a></dd>
</dl>
</li>
</ol>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>data</strong> (<em>pd.DataFrame</em><em>(</em><em>)</em>) – Dataframe to resample</li>
<li><strong>freq</strong> (<em>str</em>) – Resampling frequency i.e. d, h, 15T…</li>
<li><strong>resampler</strong> (<em>str</em>) – Resampling type i.e. mean, max.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Dataframe containing resampled data</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">pd.DataFrame()</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
</div>
<div class="section" id="module-Energy_Analytics.Import_Data">
<span id="energy-analytics-import-data-module"></span><h2>Energy_Analytics.Import_Data module<a class="headerlink" href="#module-Energy_Analytics.Import_Data" title="Permalink to this headline">¶</a></h2>
<p>This script imports data from csv files, MDAL and returns a dataframe.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>Last modified: Feb 4 2019</p>
<ol class="last arabic simple">
<li>CSV - If only folder is specified and no filename, all csv’s will be read in sorted order by name.</li>
<li><dl class="first docutils">
<dt>CSV - Doesn’t handle cases when user provides</dt>
<dd><ul class="first last">
<li>file_name of type str and folder_name of type list(str)</li>
<li>file_name and folder_name both of type list(str)</li>
</ul>
</dd>
</dl>
</li>
</ol>
</div>
<div class="section" id="id1">
<h3>To Do<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><ol class="arabic simple">
<li>Extract RAW data from MDAL.</li>
<li>Figure out parameter/return types of functions (do a search on “???”)</li>
</ol>
</div></blockquote>
</div>
<div class="section" id="id2">
<h3>Authors<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Marco Pritoni &lt;<a class="reference external" href="mailto:marco&#46;pritoni&#37;&#52;&#48;gmail&#46;com">marco<span>&#46;</span>pritoni<span>&#64;</span>gmail<span>&#46;</span>com</a>&gt;</li>
<li>Jacob Rodriguez  &lt;<a class="reference external" href="mailto:jbrodriguez&#37;&#52;&#48;ucdavis&#46;edu">jbrodriguez<span>&#64;</span>ucdavis<span>&#46;</span>edu</a>&gt;</li>
<li>Pranav Gupta &lt;<a class="reference external" href="mailto:phgupta&#37;&#52;&#48;ucdavis&#46;edu">phgupta<span>&#64;</span>ucdavis<span>&#46;</span>edu</a>&gt;</li>
</ul>
<dl class="class">
<dt id="Energy_Analytics.Import_Data.Import_Data">
<em class="property">class </em><code class="descclassname">Energy_Analytics.Import_Data.</code><code class="descname">Import_Data</code><a class="reference internal" href="_modules/Energy_Analytics/Import_Data.html#Import_Data"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Energy_Analytics.Import_Data.Import_Data" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>This class imports data from csv files.</p>
<dl class="method">
<dt id="Energy_Analytics.Import_Data.Import_Data.import_csv">
<code class="descname">import_csv</code><span class="sig-paren">(</span><em>file_name='*'</em>, <em>folder_name='.'</em>, <em>head_row=0</em>, <em>index_col=0</em>, <em>convert_col=True</em>, <em>concat_files=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Energy_Analytics/Import_Data.html#Import_Data.import_csv"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Energy_Analytics.Import_Data.Import_Data.import_csv" title="Permalink to this definition">¶</a></dt>
<dd><p>Imports csv file(s) and stores the result in data.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<ol class="last arabic simple">
<li>If folder exists out of current directory, folder_name should contain correct regex</li>
<li>Assuming there’s no file called “*.csv”</li>
</ol>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>file_name</strong> (<em>str</em>) – CSV file to be imported. Defaults to ‘*’, i.e. all csv files in the folder.</li>
<li><strong>folder_name</strong> (<em>str</em>) – Folder where file resides. Defaults to ‘.’, i.e. current directory.</li>
<li><strong>head_row</strong> (<em>int</em>) – Skips all rows from 0 to head_row-1</li>
<li><strong>index_col</strong> (<em>int</em>) – Skips all columns from 0 to index_col-1</li>
<li><strong>convert_col</strong> (<em>bool</em>) – Convert columns to numeric type</li>
<li><strong>concat_files</strong> (<em>bool</em>) – Appends data from files to result dataframe</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="Energy_Analytics.Import_Data.Import_MDAL">
<em class="property">class </em><code class="descclassname">Energy_Analytics.Import_Data.</code><code class="descname">Import_MDAL</code><a class="reference internal" href="_modules/Energy_Analytics/Import_Data.html#Import_MDAL"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Energy_Analytics.Import_Data.Import_MDAL" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#Energy_Analytics.Import_Data.Import_Data" title="Energy_Analytics.Import_Data.Import_Data"><code class="xref py py-class docutils literal notranslate"><span class="pre">Energy_Analytics.Import_Data.Import_Data</span></code></a></p>
<p>This class imports data from MDAL.</p>
<dl class="method">
<dt id="Energy_Analytics.Import_Data.Import_MDAL.compose_BRICK_query">
<code class="descname">compose_BRICK_query</code><span class="sig-paren">(</span><em>point_type</em>, <em>site</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Energy_Analytics/Import_Data.html#Import_MDAL.compose_BRICK_query"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Energy_Analytics.Import_Data.Import_MDAL.compose_BRICK_query" title="Permalink to this definition">¶</a></dt>
<dd><p>Compose the BRICK query.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>site</strong> (<em>str</em>) – Building name.</li>
<li><strong>point_type</strong> (<em>str</em>) – Type of data, i.e. Green_Button_Meter, Building_Electric_Meter…</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">BRICK query.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">dict</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="Energy_Analytics.Import_Data.Import_MDAL.compose_MDAL_dic">
<code class="descname">compose_MDAL_dic</code><span class="sig-paren">(</span><em>site</em>, <em>point_type</em>, <em>start</em>, <em>end</em>, <em>var</em>, <em>agg</em>, <em>window</em>, <em>aligned</em>, <em>points=None</em>, <em>return_names=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Energy_Analytics/Import_Data.html#Import_MDAL.compose_MDAL_dic"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Energy_Analytics.Import_Data.Import_MDAL.compose_MDAL_dic" title="Permalink to this definition">¶</a></dt>
<dd><p>Create dictionary for MDAL request.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>site</strong> (<em>str</em>) – Building name.</li>
<li><strong>start</strong> (<em>str</em>) – Start date - ‘YYYY-MM-DDTHH:MM:SSZ’</li>
<li><strong>end</strong> (<em>str</em>) – End date - ‘YYYY-MM-DDTHH:MM:SSZ’</li>
<li><strong>point_type</strong> (<em>str</em>) – Type of data, i.e. Green_Button_Meter, Building_Electric_Meter…</li>
<li><strong>var</strong> (<em>str</em>) – Variable - “meter”, “weather”…</li>
<li><strong>agg</strong> (<em>str</em>) – Aggregation - MEAN, SUM, RAW…</li>
<li><strong>window</strong> (<em>str</em>) – Size of the moving window.</li>
<li><strong>aligned</strong> (<em>bool</em>) – <p>???</p>
</li>
<li><strong>return_names</strong> (<em>bool</em>) – <p>???</p>
</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><p>???</p>
</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">(df, mapping, context)</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="Energy_Analytics.Import_Data.Import_MDAL.get_meter">
<code class="descname">get_meter</code><span class="sig-paren">(</span><em>site</em>, <em>start</em>, <em>end</em>, <em>point_type='Green_Button_Meter'</em>, <em>var='meter'</em>, <em>agg='MEAN'</em>, <em>window='24h'</em>, <em>aligned=True</em>, <em>return_names=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Energy_Analytics/Import_Data.html#Import_MDAL.get_meter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Energy_Analytics.Import_Data.Import_MDAL.get_meter" title="Permalink to this definition">¶</a></dt>
<dd><p>Get meter data from MDAL.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>site</strong> (<em>str</em>) – Building name.</li>
<li><strong>start</strong> (<em>str</em>) – Start date - ‘YYYY-MM-DDTHH:MM:SSZ’</li>
<li><strong>end</strong> (<em>str</em>) – End date - ‘YYYY-MM-DDTHH:MM:SSZ’</li>
<li><strong>point_type</strong> (<em>str</em>) – Type of data, i.e. Green_Button_Meter, Building_Electric_Meter…</li>
<li><strong>var</strong> (<em>str</em>) – Variable - “meter”, “weather”…</li>
<li><strong>agg</strong> (<em>str</em>) – Aggregation - MEAN, SUM, RAW…</li>
<li><strong>window</strong> (<em>str</em>) – Size of the moving window.</li>
<li><strong>aligned</strong> (<em>bool</em>) – <p>???</p>
</li>
<li><strong>return_names</strong> (<em>bool</em>) – <p>???</p>
</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><p>???</p>
</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">(df, mapping, context)</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="Energy_Analytics.Import_Data.Import_MDAL.get_point_name">
<code class="descname">get_point_name</code><span class="sig-paren">(</span><em>context</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Energy_Analytics/Import_Data.html#Import_MDAL.get_point_name"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Energy_Analytics.Import_Data.Import_MDAL.get_point_name" title="Permalink to this definition">¶</a></dt>
<dd><p>Get point name.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>context</strong> – <p>???</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">???</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">???</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="Energy_Analytics.Import_Data.Import_MDAL.get_tstat">
<code class="descname">get_tstat</code><span class="sig-paren">(</span><em>site</em>, <em>start</em>, <em>end</em>, <em>var='tstat_temp'</em>, <em>agg='MEAN'</em>, <em>window='24h'</em>, <em>aligned=True</em>, <em>return_names=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Energy_Analytics/Import_Data.html#Import_MDAL.get_tstat"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Energy_Analytics.Import_Data.Import_MDAL.get_tstat" title="Permalink to this definition">¶</a></dt>
<dd><p>Get thermostat data from MDAL.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>site</strong> (<em>str</em>) – Building name.</li>
<li><strong>start</strong> (<em>str</em>) – Start date - ‘YYYY-MM-DDTHH:MM:SSZ’</li>
<li><strong>end</strong> (<em>str</em>) – End date - ‘YYYY-MM-DDTHH:MM:SSZ’</li>
<li><strong>var</strong> (<em>str</em>) – Variable - “meter”, “weather”…</li>
<li><strong>agg</strong> (<em>str</em>) – Aggregation - MEAN, SUM, RAW…</li>
<li><strong>window</strong> (<em>str</em>) – Size of the moving window.</li>
<li><strong>aligned</strong> (<em>bool</em>) – <p>???</p>
</li>
<li><strong>return_names</strong> (<em>bool</em>) – <p>???</p>
</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><p>???</p>
</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">(df, mapping, context)</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="Energy_Analytics.Import_Data.Import_MDAL.get_weather">
<code class="descname">get_weather</code><span class="sig-paren">(</span><em>site</em>, <em>start</em>, <em>end</em>, <em>point_type='Weather_Temperature_Sensor'</em>, <em>var='weather'</em>, <em>agg='MEAN'</em>, <em>window='24h'</em>, <em>aligned=True</em>, <em>return_names=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Energy_Analytics/Import_Data.html#Import_MDAL.get_weather"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Energy_Analytics.Import_Data.Import_MDAL.get_weather" title="Permalink to this definition">¶</a></dt>
<dd><p>Get weather data from MDAL.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>site</strong> (<em>str</em>) – Building name.</li>
<li><strong>start</strong> (<em>str</em>) – Start date - ‘YYYY-MM-DDTHH:MM:SSZ’</li>
<li><strong>end</strong> (<em>str</em>) – End date - ‘YYYY-MM-DDTHH:MM:SSZ’</li>
<li><strong>point_type</strong> (<em>str</em>) – Type of data, i.e. Green_Button_Meter, Building_Electric_Meter…</li>
<li><strong>var</strong> (<em>str</em>) – Variable - “meter”, “weather”…</li>
<li><strong>agg</strong> (<em>str</em>) – Aggregation - MEAN, SUM, RAW…</li>
<li><strong>window</strong> (<em>str</em>) – Size of the moving window.</li>
<li><strong>aligned</strong> (<em>bool</em>) – <p>???</p>
</li>
<li><strong>return_names</strong> (<em>bool</em>) – <p>???</p>
</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><p>???</p>
</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">(df, mapping, context)</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="Energy_Analytics.Import_Data.Import_MDAL.parse_context">
<code class="descname">parse_context</code><span class="sig-paren">(</span><em>context</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Energy_Analytics/Import_Data.html#Import_MDAL.parse_context"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Energy_Analytics.Import_Data.Import_MDAL.parse_context" title="Permalink to this definition">¶</a></dt>
<dd><p>Parse context.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>context</strong> – <p>???</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">Pandas dataframe containing metadata.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">pd.DataFrame()</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="Energy_Analytics.Import_Data.Import_MDAL.replace_uuid_w_names">
<code class="descname">replace_uuid_w_names</code><span class="sig-paren">(</span><em>resp</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Energy_Analytics/Import_Data.html#Import_MDAL.replace_uuid_w_names"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Energy_Analytics.Import_Data.Import_MDAL.replace_uuid_w_names" title="Permalink to this definition">¶</a></dt>
<dd><p>Replace the uuid’s with names.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>resp</strong> – <p>???</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">???</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">???</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="Energy_Analytics.Import_Data.Import_MDAL.strip_point_name">
<code class="descname">strip_point_name</code><span class="sig-paren">(</span><em>col</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Energy_Analytics/Import_Data.html#Import_MDAL.strip_point_name"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Energy_Analytics.Import_Data.Import_MDAL.strip_point_name" title="Permalink to this definition">¶</a></dt>
<dd><p>Strip point name.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>col</strong> – <p>???</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">???</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">???</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
</div>
<div class="section" id="module-Energy_Analytics.Model_Data">
<span id="energy-analytics-model-data-module"></span><h2>Energy_Analytics.Model_Data module<a class="headerlink" href="#module-Energy_Analytics.Model_Data" title="Permalink to this headline">¶</a></h2>
<p>This script splits the data into baseline and projection periods, runs ML models on them and displays the metrics &amp; plots.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Last modified: Feb 4 2019</p>
</div>
<div class="section" id="id3">
<h3>Authors<a class="headerlink" href="#id3" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Pranav Gupta &lt;<a class="reference external" href="mailto:phgupta&#37;&#52;&#48;ucdavis&#46;edu">phgupta<span>&#64;</span>ucdavis<span>&#46;</span>edu</a>&gt;</li>
</ul>
<dl class="class">
<dt id="Energy_Analytics.Model_Data.Model_Data">
<em class="property">class </em><code class="descclassname">Energy_Analytics.Model_Data.</code><code class="descname">Model_Data</code><span class="sig-paren">(</span><em>df</em>, <em>input_col</em>, <em>output_col</em>, <em>alphas</em>, <em>cv</em>, <em>exclude_time_period</em>, <em>baseline_period</em>, <em>projection_period=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Energy_Analytics/Model_Data.html#Model_Data"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Energy_Analytics.Model_Data.Model_Data" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>This class splits the data into baseline and projection periods, runs models on them and displays metrics &amp; plots.</p>
<dl class="attribute">
<dt id="Energy_Analytics.Model_Data.Model_Data.figure_count">
<code class="descname">figure_count</code><a class="headerlink" href="#Energy_Analytics.Model_Data.Model_Data.figure_count" title="Permalink to this definition">¶</a></dt>
<dd><p>Keeps track of the number of figures. Primarily useful when using the search function in Wrapper.py.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">int</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="Energy_Analytics.Model_Data.Model_Data.adj_r2">
<code class="descname">adj_r2</code><span class="sig-paren">(</span><em>r2</em>, <em>n</em>, <em>k</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Energy_Analytics/Model_Data.html#Model_Data.adj_r2"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Energy_Analytics.Model_Data.Model_Data.adj_r2" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate and return adjusted r2 score.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>r2</strong> – Original r2 score.</li>
<li><strong>n</strong> – Number of points in data sample.</li>
<li><strong>k</strong> – Number of variables in model, excluding the constant.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Adjusted R2 score.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">float</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="Energy_Analytics.Model_Data.Model_Data.ann">
<code class="descname">ann</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/Energy_Analytics/Model_Data.html#Model_Data.ann"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Energy_Analytics.Model_Data.Model_Data.ann" title="Permalink to this definition">¶</a></dt>
<dd><p>Artificial Neural Network.</p>
<p>This function runs ANN and stores the,
1. Model
2. Model name
3. Max score
4. Metrics</p>
</dd></dl>

<dl class="method">
<dt id="Energy_Analytics.Model_Data.Model_Data.best_model_fit">
<code class="descname">best_model_fit</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/Energy_Analytics/Model_Data.html#Model_Data.best_model_fit"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Energy_Analytics.Model_Data.Model_Data.best_model_fit" title="Permalink to this definition">¶</a></dt>
<dd><p>Fit data to optimal model and return its metrics.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">Best model’s metrics</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">dict</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="Energy_Analytics.Model_Data.Model_Data.custom_model">
<code class="descname">custom_model</code><span class="sig-paren">(</span><em>func</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Energy_Analytics/Model_Data.html#Model_Data.custom_model"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Energy_Analytics.Model_Data.Model_Data.custom_model" title="Permalink to this definition">¶</a></dt>
<dd><p>Run custom model provided by user.</p>
<p>To Do,
1. Define custom function’s parameters, its data types, and return types</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>func</strong> (<em>function</em>) – Custom function</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">Custom function’s metrics</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">dict</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="Energy_Analytics.Model_Data.Model_Data.elastic_net_regression">
<code class="descname">elastic_net_regression</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/Energy_Analytics/Model_Data.html#Model_Data.elastic_net_regression"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Energy_Analytics.Model_Data.Model_Data.elastic_net_regression" title="Permalink to this definition">¶</a></dt>
<dd><p>ElasticNet Regression.</p>
<p>This function runs elastic net regression and stores the,
1. Model
2. Model name
3. Max score
4. Metrics</p>
</dd></dl>

<dl class="attribute">
<dt>
<code class="descname">figure_count</code><em class="property"> = 1</em></dt>
<dd></dd></dl>

<dl class="method">
<dt id="Energy_Analytics.Model_Data.Model_Data.lasso_regression">
<code class="descname">lasso_regression</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/Energy_Analytics/Model_Data.html#Model_Data.lasso_regression"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Energy_Analytics.Model_Data.Model_Data.lasso_regression" title="Permalink to this definition">¶</a></dt>
<dd><p>Lasso Regression.</p>
<p>This function runs lasso regression and stores the,
1. Model
2. Model name
3. Max score
4. Metrics</p>
</dd></dl>

<dl class="method">
<dt id="Energy_Analytics.Model_Data.Model_Data.linear_regression">
<code class="descname">linear_regression</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/Energy_Analytics/Model_Data.html#Model_Data.linear_regression"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Energy_Analytics.Model_Data.Model_Data.linear_regression" title="Permalink to this definition">¶</a></dt>
<dd><p>Linear Regression.</p>
<p>This function runs linear regression and stores the,
1. Model
2. Model name
3. Mean score of cross validation
4. Metrics</p>
</dd></dl>

<dl class="method">
<dt id="Energy_Analytics.Model_Data.Model_Data.random_forest">
<code class="descname">random_forest</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/Energy_Analytics/Model_Data.html#Model_Data.random_forest"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Energy_Analytics.Model_Data.Model_Data.random_forest" title="Permalink to this definition">¶</a></dt>
<dd><p>Random Forest.</p>
<p>This function runs random forest and stores the,
1. Model
2. Model name
3. Max score
4. Metrics</p>
</dd></dl>

<dl class="method">
<dt id="Energy_Analytics.Model_Data.Model_Data.ridge_regression">
<code class="descname">ridge_regression</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/Energy_Analytics/Model_Data.html#Model_Data.ridge_regression"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Energy_Analytics.Model_Data.Model_Data.ridge_regression" title="Permalink to this definition">¶</a></dt>
<dd><p>Ridge Regression.</p>
<p>This function runs ridge regression and stores the,
1. Model
2. Model name
3. Max score
4. Metrics</p>
</dd></dl>

<dl class="method">
<dt id="Energy_Analytics.Model_Data.Model_Data.run_models">
<code class="descname">run_models</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/Energy_Analytics/Model_Data.html#Model_Data.run_models"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Energy_Analytics.Model_Data.Model_Data.run_models" title="Permalink to this definition">¶</a></dt>
<dd><p>Run all models.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><ul class="simple">
<li><em>model</em> – Best model</li>
<li><em>dict</em> – Metrics of the models</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="Energy_Analytics.Model_Data.Model_Data.split_data">
<code class="descname">split_data</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/Energy_Analytics/Model_Data.html#Model_Data.split_data"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Energy_Analytics.Model_Data.Model_Data.split_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Split data according to baseline and projection time period values.</p>
</dd></dl>

</dd></dl>

</div>
</div>
<div class="section" id="module-Energy_Analytics.Plot_Data">
<span id="energy-analytics-plot-data-module"></span><h2>Energy_Analytics.Plot_Data module<a class="headerlink" href="#module-Energy_Analytics.Plot_Data" title="Permalink to this headline">¶</a></h2>
<p>This script contains functions for displaying various plots.</p>
<p>Last modified: Feb 4 2019</p>
<p>Authors</p>
<p>&#64;author Pranav Gupta &lt;<a class="reference external" href="mailto:phgupta&#37;&#52;&#48;ucdavis&#46;edu">phgupta<span>&#64;</span>ucdavis<span>&#46;</span>edu</a>&gt;</p>
<dl class="class">
<dt id="Energy_Analytics.Plot_Data.Plot_Data">
<em class="property">class </em><code class="descclassname">Energy_Analytics.Plot_Data.</code><code class="descname">Plot_Data</code><span class="sig-paren">(</span><em>figsize=(18</em>, <em>5)</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Energy_Analytics/Plot_Data.html#Plot_Data"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Energy_Analytics.Plot_Data.Plot_Data" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>This class contains functions for displaying various plots.</p>
<dl class="attribute">
<dt id="Energy_Analytics.Plot_Data.Plot_Data.count">
<code class="descname">count</code><a class="headerlink" href="#Energy_Analytics.Plot_Data.Plot_Data.count" title="Permalink to this definition">¶</a></dt>
<dd><p>Keeps track of the number of figures.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">int</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="Energy_Analytics.Plot_Data.Plot_Data.baseline_projection_plot">
<code class="descname">baseline_projection_plot</code><span class="sig-paren">(</span><em>y_true</em>, <em>y_pred</em>, <em>baseline_period</em>, <em>projection_period</em>, <em>model_name</em>, <em>adj_r2</em>, <em>data</em>, <em>input_col</em>, <em>output_col</em>, <em>model</em>, <em>site</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Energy_Analytics/Plot_Data.html#Plot_Data.baseline_projection_plot"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Energy_Analytics.Plot_Data.Plot_Data.baseline_projection_plot" title="Permalink to this definition">¶</a></dt>
<dd><p>Create baseline and projection plots.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>y_true</strong> (<em>pd.Series</em><em>(</em><em>)</em>) – Actual y values.</li>
<li><strong>y_pred</strong> (<em>np.ndarray</em>) – Predicted y values.</li>
<li><strong>baseline_period</strong> (<em>list</em><em>(</em><em>str</em><em>)</em>) – Baseline period.</li>
<li><strong>projection_period</strong> (<em>list</em><em>(</em><em>str</em><em>)</em>) – Projection periods.</li>
<li><strong>model_name</strong> (<em>str</em>) – Optimal model’s name.</li>
<li><strong>adj_r2</strong> (<em>float</em>) – Adjusted R2 score of optimal model.</li>
<li><strong>data</strong> (<em>pd.Dataframe</em><em>(</em><em>)</em>) – Data containing real values.</li>
<li><strong>input_col</strong> (<em>list</em><em>(</em><em>str</em><em>)</em>) – Predictor column(s).</li>
<li><strong>output_col</strong> (<em>str</em>) – Target column.</li>
<li><strong>model</strong> (<em>func</em>) – Optimal model.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Baseline plot</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">matplotlib.figure</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="Energy_Analytics.Plot_Data.Plot_Data.correlation_plot">
<code class="descname">correlation_plot</code><span class="sig-paren">(</span><em>data</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Energy_Analytics/Plot_Data.html#Plot_Data.correlation_plot"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Energy_Analytics.Plot_Data.Plot_Data.correlation_plot" title="Permalink to this definition">¶</a></dt>
<dd><p>Create heatmap of Pearson’s correlation coefficient.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>data</strong> (<em>pd.DataFrame</em><em>(</em><em>)</em>) – Data to display.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">Heatmap.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">matplotlib.figure</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt>
<code class="descname">count</code><em class="property"> = 1</em></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="module-Energy_Analytics.Preprocess_Data">
<span id="energy-analytics-preprocess-data-module"></span><h2>Energy_Analytics.Preprocess_Data module<a class="headerlink" href="#module-Energy_Analytics.Preprocess_Data" title="Permalink to this headline">¶</a></h2>
<p>This script preprocesses a dataframe according to user specifications.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Last modified: Feb 4 2019</p>
</div>
<div class="section" id="id4">
<h3>Authors<a class="headerlink" href="#id4" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Marco Pritoni &lt;<a class="reference external" href="mailto:marco&#46;pritoni&#37;&#52;&#48;gmail&#46;com">marco<span>&#46;</span>pritoni<span>&#64;</span>gmail<span>&#46;</span>com</a>&gt;</li>
<li>Pranav Gupta &lt;<a class="reference external" href="mailto:phgupta&#37;&#52;&#48;ucdavis&#46;edu">phgupta<span>&#64;</span>ucdavis<span>&#46;</span>edu</a>&gt;</li>
</ul>
<dl class="class">
<dt id="Energy_Analytics.Preprocess_Data.Preprocess_Data">
<em class="property">class </em><code class="descclassname">Energy_Analytics.Preprocess_Data.</code><code class="descname">Preprocess_Data</code><span class="sig-paren">(</span><em>df</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Energy_Analytics/Preprocess_Data.html#Preprocess_Data"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Energy_Analytics.Preprocess_Data.Preprocess_Data" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>This class preprocesses a dataframe according to user specification.</p>
<dl class="method">
<dt id="Energy_Analytics.Preprocess_Data.Preprocess_Data.add_col_features">
<code class="descname">add_col_features</code><span class="sig-paren">(</span><em>col=None</em>, <em>degree=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Energy_Analytics/Preprocess_Data.html#Preprocess_Data.add_col_features"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Energy_Analytics.Preprocess_Data.Preprocess_Data.add_col_features" title="Permalink to this definition">¶</a></dt>
<dd><p>Exponentiate columns of dataframe.</p>
<p>Basically this function squares/cubes a column.
e.g. df[col^2] = pow(df[col], degree) where degree=2.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>col</strong> (<em>list</em><em>(</em><em>str</em><em>)</em>) – Column to exponentiate.</li>
<li><strong>degree</strong> (<em>list</em><em>(</em><em>str</em><em>)</em>) – Exponentiation degree.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="Energy_Analytics.Preprocess_Data.Preprocess_Data.add_degree_days">
<code class="descname">add_degree_days</code><span class="sig-paren">(</span><em>col='OAT'</em>, <em>hdh_cpoint=65</em>, <em>cdh_cpoint=65</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Energy_Analytics/Preprocess_Data.html#Preprocess_Data.add_degree_days"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Energy_Analytics.Preprocess_Data.Preprocess_Data.add_degree_days" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds Heating &amp; Cooling Degree Hours.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>col</strong> (<em>str</em>) – Column name which contains the outdoor air temperature.</li>
<li><strong>hdh_cpoint</strong> (<em>int</em>) – Heating degree hours. Defaults to 65.</li>
<li><strong>cdh_cpoint</strong> (<em>int</em>) – Cooling degree hours. Defaults to 65.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="Energy_Analytics.Preprocess_Data.Preprocess_Data.add_time_features">
<code class="descname">add_time_features</code><span class="sig-paren">(</span><em>year=False</em>, <em>month=False</em>, <em>week=True</em>, <em>tod=True</em>, <em>dow=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Energy_Analytics/Preprocess_Data.html#Preprocess_Data.add_time_features"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Energy_Analytics.Preprocess_Data.Preprocess_Data.add_time_features" title="Permalink to this definition">¶</a></dt>
<dd><p>Add time features to dataframe.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>year</strong> (<em>bool</em>) – Year.</li>
<li><strong>month</strong> (<em>bool</em>) – Month.</li>
<li><strong>week</strong> (<em>bool</em>) – Week.</li>
<li><strong>tod</strong> (<em>bool</em>) – Time of Day.</li>
<li><strong>dow</strong> (<em>bool</em>) – Day of Week.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="Energy_Analytics.Preprocess_Data.Preprocess_Data.normalize">
<code class="descname">normalize</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/Energy_Analytics/Preprocess_Data.html#Preprocess_Data.normalize"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Energy_Analytics.Preprocess_Data.Preprocess_Data.normalize" title="Permalink to this definition">¶</a></dt>
<dd><p>Normalize data.</p>
</dd></dl>

<dl class="method">
<dt id="Energy_Analytics.Preprocess_Data.Preprocess_Data.standardize">
<code class="descname">standardize</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/Energy_Analytics/Preprocess_Data.html#Preprocess_Data.standardize"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Energy_Analytics.Preprocess_Data.Preprocess_Data.standardize" title="Permalink to this definition">¶</a></dt>
<dd><p>Standardize data.</p>
</dd></dl>

</dd></dl>

</div>
</div>
<div class="section" id="module-Energy_Analytics.Wrapper">
<span id="energy-analytics-wrapper-module"></span><h2>Energy_Analytics.Wrapper module<a class="headerlink" href="#module-Energy_Analytics.Wrapper" title="Permalink to this headline">¶</a></h2>
<p>This script is a wrapper class around all the other modules - importing, cleaning, preprocessing and modeling the data.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>Last modified: Feb 4 2019</p>
<ol class="last arabic simple">
<li>For MAPE, all rows with 0 are dropped in baseline_out.</li>
<li>df.loc[(slice(None, None, None)), …] is equivalent to “df.loc[:,…]”</li>
<li>df.resample(freq=’h’).mean() drops all non-float/non-int columns</li>
<li>os._exit(1) exits the program without calling cleanup handlers.</li>
</ol>
</div>
<div class="section" id="id5">
<h3>To Do<a class="headerlink" href="#id5" title="Permalink to this headline">¶</a></h3>
<ol class="arabic simple">
<li><dl class="first docutils">
<dt>Import</dt>
<dd><ol class="first last arabic">
<li>Check if file_name or folder_name is of type unicode -&gt; convert to string.</li>
</ol>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>Clean</dt>
<dd><ol class="first last arabic">
<li>Clean each column differently.</li>
<li>Test all functions from TS_Util.py</li>
</ol>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>Model</dt>
<dd><ol class="first last arabic">
<li>Add param_dict parameter.</li>
<li>For baseline/projection period, if no start/end date, use first/last row.</li>
<li>Save best model.</li>
<li>Add SVR, ANN.</li>
</ol>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>Wrapper</dt>
<dd><ol class="first last arabic">
<li>Give user the option to run specific models.</li>
<li>Change search()</li>
</ol>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>All</dt>
<dd><ol class="first last arabic">
<li>Update sphinx documentation.</li>
<li>Add new section for user documentation.</li>
<li>Look into adding other plots.</li>
<li>Add plot_data in documentation.</li>
<li>Use environment markers to update requirements.txt (matplotlib 3.0.0 vs 2.2.3)</li>
<li>Fix imports.</li>
</ol>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>Cleanup</dt>
<dd><ol class="first last arabic">
<li>Pylint.</li>
<li>Documentation.</li>
<li>Unit Tests.</li>
<li>Docker.</li>
<li>Update Energy_Analytics, XBOS_Data_Analytics, XBOS.</li>
</ol>
</dd>
</dl>
</li>
</ol>
</div>
<div class="section" id="id6">
<h3>Authors<a class="headerlink" href="#id6" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Pranav Gupta &lt;<a class="reference external" href="mailto:phgupta&#37;&#52;&#48;ucdavis&#46;edu">phgupta<span>&#64;</span>ucdavis<span>&#46;</span>edu</a>&gt;</li>
</ul>
<dl class="class">
<dt id="Energy_Analytics.Wrapper.Wrapper">
<em class="property">class </em><code class="descclassname">Energy_Analytics.Wrapper.</code><code class="descname">Wrapper</code><span class="sig-paren">(</span><em>results_folder_name='results'</em>, <em>site_name='Undefined'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Energy_Analytics/Wrapper.html#Wrapper"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Energy_Analytics.Wrapper.Wrapper" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>This class is a wrapper class around all the other modules - importing, cleaning, preprocessing and modeling the data.</p>
<dl class="attribute">
<dt id="Energy_Analytics.Wrapper.Wrapper.figure_count">
<code class="descname">figure_count</code><a class="headerlink" href="#Energy_Analytics.Wrapper.Wrapper.figure_count" title="Permalink to this definition">¶</a></dt>
<dd><p>Keeps track of the number of iterations when searching for optimal model. Primarily used in search function.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">int</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="Energy_Analytics.Wrapper.Wrapper.add_comments">
<code class="descname">add_comments</code><span class="sig-paren">(</span><em>dic</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Energy_Analytics/Wrapper.html#Wrapper.add_comments"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Energy_Analytics.Wrapper.Wrapper.add_comments" title="Permalink to this definition">¶</a></dt>
<dd><p>Add comments to results json file.</p>
<dl class="docutils">
<dt>dic <span class="classifier-delimiter">:</span> <span class="classifier">dict</span></dt>
<dd>Dictionary of key,value pairs added to result</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="Energy_Analytics.Wrapper.Wrapper.clean_data">
<code class="descname">clean_data</code><span class="sig-paren">(</span><em>data</em>, <em>rename_col=None</em>, <em>drop_col=None</em>, <em>resample=True</em>, <em>freq='h'</em>, <em>resampler='mean'</em>, <em>interpolate=True</em>, <em>limit=1</em>, <em>method='linear'</em>, <em>remove_na=True</em>, <em>remove_na_how='any'</em>, <em>remove_outliers=True</em>, <em>sd_val=3</em>, <em>remove_out_of_bounds=True</em>, <em>low_bound=0</em>, <em>high_bound=inf</em>, <em>save_file=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Energy_Analytics/Wrapper.html#Wrapper.clean_data"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Energy_Analytics.Wrapper.Wrapper.clean_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Cleans dataframe according to user specifications and stores result in self.cleaned_data.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>data</strong> (<em>pd.DataFrame</em><em>(</em><em>)</em>) – Dataframe to be cleaned.</li>
<li><strong>rename_col</strong> (<em>list</em><em>(</em><em>str</em><em>)</em>) – List of new column names.</li>
<li><strong>drop_col</strong> (<em>list</em><em>(</em><em>str</em><em>)</em>) – Columns to be dropped.</li>
<li><strong>resample</strong> (<em>bool</em>) – Indicates whether to resample data or not.</li>
<li><strong>freq</strong> (<em>str</em>) – Resampling frequency i.e. d, h, 15T…</li>
<li><strong>resampler</strong> (<em>str</em>) – Resampling type i.e. mean, max.</li>
<li><strong>interpolate</strong> (<em>bool</em>) – Indicates whether to interpolate data or not.</li>
<li><strong>limit</strong> (<em>int</em>) – Interpolation limit.</li>
<li><strong>method</strong> (<em>str</em>) – Interpolation method.</li>
<li><strong>remove_na</strong> (<em>bool</em>) – Indicates whether to remove NAs or not.</li>
<li><strong>remove_na_how</strong> (<em>str</em>) – Specificies how to remove NA i.e. all, any…</li>
<li><strong>remove_outliers</strong> (<em>bool</em>) – Indicates whether to remove outliers or not.</li>
<li><strong>sd_val</strong> (<em>int</em>) – Standard Deviation Value (specifices how many SDs away is a point considered an outlier)</li>
<li><strong>remove_out_of_bounds</strong> (<em>bool</em>) – Indicates whether to remove out of bounds datapoints or not.</li>
<li><strong>low_bound</strong> (<em>int</em>) – Low bound of the data.</li>
<li><strong>high_bound</strong> (<em>int</em>) – High bound of the data.</li>
<li><strong>save_file</strong> (<em>bool</em>) – Specifies whether to save file or not. Defaults to True.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Dataframe containing cleaned data.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">pd.DataFrame()</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="Energy_Analytics.Wrapper.Wrapper.get_global_count">
<code class="descname">get_global_count</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/Energy_Analytics/Wrapper.html#Wrapper.get_global_count"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Energy_Analytics.Wrapper.Wrapper.get_global_count" title="Permalink to this definition">¶</a></dt>
<dd><p>Return global count (used for naming of .json and .png files)</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">Global count</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">int</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="Energy_Analytics.Wrapper.Wrapper.global_count">
<code class="descname">global_count</code><em class="property"> = 1</em><a class="headerlink" href="#Energy_Analytics.Wrapper.Wrapper.global_count" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="Energy_Analytics.Wrapper.Wrapper.import_data">
<code class="descname">import_data</code><span class="sig-paren">(</span><em>file_name='*'</em>, <em>folder_name='.'</em>, <em>head_row=0</em>, <em>index_col=0</em>, <em>convert_col=True</em>, <em>concat_files=False</em>, <em>save_file=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Energy_Analytics/Wrapper.html#Wrapper.import_data"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Energy_Analytics.Wrapper.Wrapper.import_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Imports csv file(s) and stores the result in self.imported_data.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<ol class="last arabic simple">
<li>If folder exists out of current directory, folder_name should contain correct regex</li>
<li>Assuming there’s no file called “*.csv”</li>
</ol>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>file_name</strong> (<em>str</em>) – CSV file to be imported. Defaults to ‘*’ - all csv files in the folder.</li>
<li><strong>folder_name</strong> (<em>str</em>) – Folder where file resides. Defaults to ‘.’ - current directory.</li>
<li><strong>head_row</strong> (<em>int</em>) – Skips all rows from 0 to head_row-1</li>
<li><strong>index_col</strong> (<em>int</em>) – Skips all columns from 0 to index_col-1</li>
<li><strong>convert_col</strong> (<em>bool</em>) – Convert columns to numeric type</li>
<li><strong>concat_files</strong> (<em>bool</em>) – Appends data from files to result dataframe</li>
<li><strong>save_file</strong> (<em>bool</em>) – Specifies whether to save file or not. Defaults to True.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Dataframe containing imported data.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">pd.DataFrame()</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="Energy_Analytics.Wrapper.Wrapper.model">
<code class="descname">model</code><span class="sig-paren">(</span><em>data, ind_col=None, dep_col=None, project_ind_col=None, baseline_period=[None, None], projection_period=None, exclude_time_period=None, alphas=array([1.00000000e-04, 1.48735211e-04, 2.21221629e-04, 3.29034456e-04,        4.89390092e-04, 7.27895384e-04, 1.08263673e-03, 1.61026203e-03,        2.39502662e-03, 3.56224789e-03, 5.29831691e-03, 7.88046282e-03,        1.17210230e-02, 1.74332882e-02, 2.59294380e-02, 3.85662042e-02,        5.73615251e-02, 8.53167852e-02, 1.26896100e-01, 1.88739182e-01,        2.80721620e-01, 4.17531894e-01, 6.21016942e-01, 9.23670857e-01,        1.37382380e+00, 2.04335972e+00, 3.03919538e+00, 4.52035366e+00,        6.72335754e+00, 1.00000000e+01]), cv=3, plot=True, figsize=None, custom_model_func=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Energy_Analytics/Wrapper.html#Wrapper.model"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Energy_Analytics.Wrapper.Wrapper.model" title="Permalink to this definition">¶</a></dt>
<dd><p>Split data into baseline and projection periods, run models on them and display metrics &amp; plots.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>data</strong> (<em>pd.DataFrame</em><em>(</em><em>)</em>) – Dataframe to model.</li>
<li><strong>ind_col</strong> (<em>list</em><em>(</em><em>str</em><em>)</em>) – Independent column(s) of dataframe. Defaults to all columns except the last.</li>
<li><strong>dep_col</strong> (<em>str</em>) – Dependent column of dataframe.</li>
<li><strong>project_ind_col</strong> (<em>list</em><em>(</em><em>str</em><em>)</em>) – Independent column(s) to use for projection. If none, use ind_col.</li>
<li><strong>baseline_period</strong> (<em>list</em><em>(</em><em>str</em><em>)</em>) – List of time periods to split the data into baseline periods. It needs to have a start and an end date.</li>
<li><strong>projection_period</strong> (<em>list</em><em>(</em><em>str</em><em>)</em>) – List of time periods to split the data into projection periods. It needs to have a start and an end date.</li>
<li><strong>exclude_time_period</strong> (<em>list</em><em>(</em><em>str</em><em>)</em>) – List of time periods to exclude for modeling.</li>
<li><strong>alphas</strong> (<em>list</em><em>(</em><em>int</em><em>)</em>) – List of alphas to run regression on.</li>
<li><strong>cv</strong> (<em>int</em>) – Number of folds for cross-validation.</li>
<li><strong>plot</strong> (<em>bool</em>) – Specifies whether to save plots or not.</li>
<li><strong>figsize</strong> (<em>tuple</em>) – Size of the plots.</li>
<li><strong>custom_model_func</strong> (<em>function</em>) – Model with specific hyper-parameters provided by user.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Metrics of the optimal/best model.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">dict</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="Energy_Analytics.Wrapper.Wrapper.preprocess_data">
<code class="descname">preprocess_data</code><span class="sig-paren">(</span><em>data</em>, <em>hdh_cpoint=65</em>, <em>cdh_cpoint=65</em>, <em>col_hdh_cdh=None</em>, <em>col_degree=None</em>, <em>degree=None</em>, <em>standardize=False</em>, <em>normalize=False</em>, <em>year=False</em>, <em>month=False</em>, <em>week=False</em>, <em>tod=False</em>, <em>dow=False</em>, <em>save_file=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Energy_Analytics/Wrapper.html#Wrapper.preprocess_data"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Energy_Analytics.Wrapper.Wrapper.preprocess_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Preprocesses dataframe according to user specifications and stores result in self.preprocessed_data.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>data</strong> (<em>pd.DataFrame</em><em>(</em><em>)</em>) – Dataframe to be preprocessed.</li>
<li><strong>hdh_cpoint</strong> (<em>int</em>) – Heating degree hours. Defaults to 65.</li>
<li><strong>cdh_cpoint</strong> (<em>int</em>) – Cooling degree hours. Defaults to 65.</li>
<li><strong>col_hdh_cdh</strong> (<em>str</em>) – Column name which contains the outdoor air temperature.</li>
<li><strong>col_degree</strong> (<em>list</em><em>(</em><em>str</em><em>)</em>) – Column to exponentiate.</li>
<li><strong>degree</strong> (<em>list</em><em>(</em><em>str</em><em>)</em>) – Exponentiation degree.</li>
<li><strong>standardize</strong> (<em>bool</em>) – Standardize data.</li>
<li><strong>normalize</strong> (<em>bool</em>) – Normalize data.</li>
<li><strong>year</strong> (<em>bool</em>) – Year.</li>
<li><strong>month</strong> (<em>bool</em>) – Month.</li>
<li><strong>week</strong> (<em>bool</em>) – Week.</li>
<li><strong>tod</strong> (<em>bool</em>) – Time of Day.</li>
<li><strong>dow</strong> (<em>bool</em>) – Day of Week.</li>
<li><strong>save_file</strong> (<em>bool</em>) – Specifies whether to save file or not. Defaults to True.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Dataframe containing preprocessed data.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">pd.DataFrame()</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="Energy_Analytics.Wrapper.Wrapper.read_json">
<code class="descname">read_json</code><span class="sig-paren">(</span><em>file_name=None</em>, <em>input_json=None</em>, <em>imported_data=Empty DataFrame Columns: [] Index: []</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Energy_Analytics/Wrapper.html#Wrapper.read_json"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Energy_Analytics.Wrapper.Wrapper.read_json" title="Permalink to this definition">¶</a></dt>
<dd><p>Read input json file.</p>
<p class="rubric">Notes</p>
<p>The input json file should include ALL parameters.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>file_name</strong> (<em>str</em>) – Filename to be read.</li>
<li><strong>input_json</strong> (<em>dict</em>) – JSON object to be read.</li>
<li><strong>imported_data</strong> (<em>pd.DataFrame</em><em>(</em><em>)</em>) – Pandas Dataframe containing data.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="Energy_Analytics.Wrapper.Wrapper.search">
<code class="descname">search</code><span class="sig-paren">(</span><em>file_name</em>, <em>imported_data=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Energy_Analytics/Wrapper.html#Wrapper.search"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Energy_Analytics.Wrapper.Wrapper.search" title="Permalink to this definition">¶</a></dt>
<dd><p>Run models on different data configurations.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The input json file should include ALL parameters.</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>file_name</strong> (<em>str</em>) – Optional json file to read parameters.</li>
<li><strong>imported_data</strong> (<em>pd.DataFrame</em><em>(</em><em>)</em>) – Pandas Dataframe containing data.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="Energy_Analytics.Wrapper.Wrapper.site_analysis">
<code class="descname">site_analysis</code><span class="sig-paren">(</span><em>folder_name</em>, <em>site_install_mapping</em>, <em>end_date</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Energy_Analytics/Wrapper.html#Wrapper.site_analysis"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Energy_Analytics.Wrapper.Wrapper.site_analysis" title="Permalink to this definition">¶</a></dt>
<dd><p>Summarize site data into a single table.</p>
<dl class="docutils">
<dt>folder_name <span class="classifier-delimiter">:</span> <span class="classifier">str</span></dt>
<dd>Folder where all site data resides.</dd>
<dt>site_event_mapping <span class="classifier-delimiter">:</span> <span class="classifier">dic</span></dt>
<dd>Dictionary of site name to date of installation.</dd>
<dt>end_date <span class="classifier-delimiter">:</span> <span class="classifier">str</span></dt>
<dd>End date of data collected.</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="Energy_Analytics.Wrapper.Wrapper.uncertainity_equation">
<code class="descname">uncertainity_equation</code><span class="sig-paren">(</span><em>model_data_obj</em>, <em>E_measured</em>, <em>E_predicted</em>, <em>confidence_level</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Energy_Analytics/Wrapper.html#Wrapper.uncertainity_equation"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Energy_Analytics.Wrapper.Wrapper.uncertainity_equation" title="Permalink to this definition">¶</a></dt>
<dd><dl class="docutils">
<dt>model_data_obj <span class="classifier-delimiter">:</span> <span class="classifier">Model_Data()</span></dt>
<dd>An instance of Model_Data() which is a user defined class.</dd>
<dt>E_measured <span class="classifier-delimiter">:</span> <span class="classifier">pd.Series()</span></dt>
<dd>Actual values of energy in the post-retrofit period.</dd>
<dt>E_predicted <span class="classifier-delimiter">:</span> <span class="classifier">pd.Series()</span></dt>
<dd>Predicted values of energy in the post-retrofit period.</dd>
<dt>confidence_level <span class="classifier-delimiter">:</span> <span class="classifier">float</span></dt>
<dd>Confidence level of uncertainity in decimal, i.e. 90% = 0.9</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="Energy_Analytics.Wrapper.Wrapper.write_json">
<code class="descname">write_json</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/Energy_Analytics/Wrapper.html#Wrapper.write_json"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Energy_Analytics.Wrapper.Wrapper.write_json" title="Permalink to this definition">¶</a></dt>
<dd><p>Dump data into json file.</p>
</dd></dl>

</dd></dl>

</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
      
        <a href="index.html" class="btn btn-neutral" title="Energy_Analytics" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2019, Pranav Gupta

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script type="text/javascript" src="_static/jquery.js"></script>
        <script type="text/javascript" src="_static/underscore.js"></script>
        <script type="text/javascript" src="_static/doctools.js"></script>
    

  

  <script type="text/javascript" src="_static/js/theme.js"></script>

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>